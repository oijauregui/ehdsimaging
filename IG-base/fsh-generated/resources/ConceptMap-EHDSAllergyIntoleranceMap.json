{
  "resourceType": "ConceptMap",
  "id": "EHDSAllergyIntoleranceMap",
  "url": "http://hl7.eu/fhir/imaging-r5/ConceptMap/EHDSAllergyIntoleranceMap",
  "title": "EHDSAllergyIntolerance Mapping",
  "description": "Map for EHDSAllergyIntolerance",
  "group": [
    {
      "element": [
        {
          "target": [
            {
              "code": "identifier",
              "display": "C.21.1 - Identifier",
              "relationship": "equivalent"
            }
          ],
          "code": "identifier"
        },
        {
          "target": [
            {
              "code": "text",
              "display": "C.21.2 - Allergy description",
              "relationship": "source-is-narrower-than-target"
            }
          ],
          "code": "allergyDescription"
        },
        {
          "target": [
            {
              "code": "type",
              "display": "C.21.3 - Type of propensity",
              "relationship": "equivalent"
            }
          ],
          "code": "typeOfPropensity"
        },
        {
          "target": [
            {
              "code": "reaction",
              "display": "C.21.4 - Allergy manifestation",
              "relationship": "equivalent"
            }
          ],
          "code": "allergyManifestation"
        },
        {
          "target": [
            {
              "code": "reaction.onset",
              "display": "C.21.4.1 - Date",
              "relationship": "equivalent"
            }
          ],
          "code": "allergyManifestation.date"
        },
        {
          "target": [
            {
              "code": "reaction.severity",
              "display": "C.21.4.2 - Severity",
              "relationship": "equivalent"
            }
          ],
          "code": "allergyManifestation.severity"
        },
        {
          "target": [
            {
              "code": "reaction.description",
              "display": "C.21.4.3 - Description",
              "relationship": "equivalent"
            }
          ],
          "code": "allergyManifestation.description"
        },
        {
          "target": [
            {
              "code": "reaction.manifestation",
              "display": "C.21.4.4 - Manifestation",
              "relationship": "equivalent"
            }
          ],
          "code": "allergyManifestation.manifestation"
        },
        {
          "target": [
            {
              "code": "criticality",
              "display": "C.21.5 - Criticality",
              "relationship": "equivalent"
            }
          ],
          "code": "criticality"
        },
        {
          "target": [
            {
              "code": "onsetPeriod",
              "display": "C.21.6 - Onset date",
              "relationship": "equivalent"
            },
            {
              "code": "onsetDateTime",
              "display": "C.21.6 - Onset date",
              "relationship": "equivalent"
            }
          ],
          "code": "onsetDate"
        },
        {
          "target": [
            {
              "code": "onsetString.extension[periodsOfLife]",
              "comment": "mapping on onset[x] not possible. Choose string as carrier as specifying a period should be possible. If not possible, add data-absense-extension.",
              "display": "C.21.7 - Onset life period",
              "relationship": "equivalent"
            }
          ],
          "code": "onsetLifePeriod"
        },
        {
          "target": [
            {
              "code": "extension[abatement].valueDateTime",
              "display": "C.21.8 - End date",
              "relationship": "equivalent"
            }
          ],
          "code": "endDate"
        },
        {
          "code": "endDateLifePeriod",
          "noMap": true
        },
        {
          "target": [
            {
              "code": "clinicalStatus",
              "display": "C.21.10 - Status",
              "relationship": "equivalent"
            }
          ],
          "code": "status"
        },
        {
          "target": [
            {
              "code": "verificationStatus",
              "display": "C.21.11 - Certainty",
              "relationship": "equivalent"
            }
          ],
          "code": "certainty"
        },
        {
          "target": [
            {
              "code": "code",
              "display": "C.21.12 - Agent or Allergen",
              "relationship": "equivalent"
            },
            {
              "code": "reaction.substance",
              "display": "C.21.12 - Agent or Allergen",
              "relationship": "equivalent"
            }
          ],
          "code": "agentOrAllergen"
        },
        {
          "target": [
            {
              "code": "patient",
              "display": "C.21.13 - Subject",
              "relationship": "equivalent"
            }
          ],
          "code": "patient"
        }
      ],
      "source": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSAllergyIntolerance",
      "target": "http://hl7.eu/fhir/imaging/r5/StructureDefinition/AllergyIntoleranceEu"
    }
  ],
  "status": "draft",
  "experimental": true,
  "name": "EHDSAllergyIntoleranceMap",
  "sourceScopeUri": "https://www.xt-ehr.eu/specifications/fhir/StructureDefinition/EHDSAllergyIntolerance"
}
